<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:p="http://www.springframework.org/schema/p"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:util="http://www.springframework.org/schema/util"
	xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="
        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd">

	<bean id="BOLETAS" class="ar.com.telecom.shiva.negocio.workflow.definicion.Workflow">
  		<property name="tipoWorkflow">
  			<util:constant 
  			static-field="ar.com.telecom.shiva.negocio.workflow.definicion.TipoWorkflow.BOLETA" />
 		</property>
  		
  		<property name="transiciones">
  			<list>
  				<ref bean="inicioBOL" />
  				<ref bean="solicitarBoletaAnulacion" />
  				<ref bean="establecerBoletaConciliado" />
  				<ref bean="deshacerBoletaConciliacionSugerida" />
  				<ref bean="establecerBoletaConciliacionSugerida" />
  				<ref bean="conciliarBoletaConDiferencias" />  				
  			</list>
  		</property>	
  	</bean>
  	
  	<!-- Estados (5) + inicial -->
  	<util:constant id="bol_pendiente"
  			static-field="ar.com.telecom.shiva.negocio.workflow.definicion.Estado.BOL_PENDIENTE" />
  	<util:constant id="bol_anulado"
  			static-field="ar.com.telecom.shiva.negocio.workflow.definicion.Estado.BOL_ANULADO" />
  	<util:constant id="bol_conciliado"
  			static-field="ar.com.telecom.shiva.negocio.workflow.definicion.Estado.BOL_CONCILIADO" />
  	<util:constant id="bol_sugerida"
  			static-field="ar.com.telecom.shiva.negocio.workflow.definicion.Estado.BOL_SUGERIDA" />
  	<util:constant id="bol_diferencia"
  			static-field="ar.com.telecom.shiva.negocio.workflow.definicion.Estado.BOL_DIFERENCIA" />
  			
  	<!-- Transiciones (6) -->
  	<bean id="inicioBOL" class="ar.com.telecom.shiva.negocio.workflow.definicion.Transicion">
  		<property name="nombre" value="Inicio"/>
  		<property name="evento" value="crearWorkflow"/>
  		<property name="origen">
  			<util:constant 
  				static-field="ar.com.telecom.shiva.negocio.workflow.definicion.Estado.INICIO" />
  		</property>
  		<property name="destino" ref="bol_pendiente"/>	
  	</bean>
  	<bean id="solicitarBoletaAnulacion" class="ar.com.telecom.shiva.negocio.workflow.definicion.Transicion">
  		<property name="nombre" value="Solicitar Boleta Anulacion"/>
  		<property name="evento" value="solicitarBoletaAnulacion"/>
  		<property name="origen" ref="bol_pendiente"/>
  		<property name="destino" ref="bol_anulado"/>	
  	</bean>
  	<bean id="establecerBoletaConciliado" class="ar.com.telecom.shiva.negocio.workflow.definicion.Transicion">
  		<property name="nombre" value="Establecer Registro Conciliado"/>
  		<property name="evento" value="establecerBoletaConciliado"/>
  		<property name="origen" ref="bol_pendiente"/>
  		<property name="destino" ref="bol_conciliado"/>	
  	</bean>
  	<bean id="deshacerBoletaConciliacionSugerida" class="ar.com.telecom.shiva.negocio.workflow.definicion.Transicion">
  		<property name="nombre" value="Deshacer Boleta Conciliacion Sugerida"/>
  		<property name="evento" value="deshacerBoletaConciliacionSugerida"/>
  		<property name="origen" ref="bol_sugerida"/>
  		<property name="destino" ref="bol_pendiente"/>	
  	</bean>
  	<bean id="establecerBoletaConciliacionSugerida" class="ar.com.telecom.shiva.negocio.workflow.definicion.Transicion">
  		<property name="nombre" value="Establecer Boleta Conciliciacion Sugerida"/>
  		<property name="evento" value="establecerBoletaConciliacionSugerida"/>
  		<property name="origen" ref="bol_pendiente"/>
  		<property name="destino" ref="bol_sugerida"/>	
  	</bean>
  	<bean id="conciliarBoletaConDiferencias" class="ar.com.telecom.shiva.negocio.workflow.definicion.Transicion">
  		<property name="nombre" value="Conciliar Boleta con Diferencias"/>
  		<property name="evento" value="conciliarBoletaConDiferencias"/>
  		<property name="origen" ref="bol_sugerida"/>
  		<property name="destino" ref="bol_diferencia"/>	
  	</bean>
</beans>
